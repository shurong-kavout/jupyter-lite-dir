(self.webpackChunkjupyterlab_link_share=self.webpackChunkjupyterlab_link_share||[]).push([[703],{703:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var n,r=a(28),o=a(923),l=a(895),s=a(300),c=a(510),i=a(556);!function(e){e.share="link-share:share"}(n||(n={}));const u=[{id:"jupyterlab-link-share:plugin",autoStart:!0,optional:[r.ICommandPalette,l.IMainMenu,s.ITranslator],activate:(e,t,a,l)=>{const{commands:u}=e,d=(null!=l?l:s.nullTranslator).load("jupyterlab");if(u.addCommand(n.share,{label:d.__("Share Jupyter Server Link"),execute:async()=>{const e=(await async function(e="",t={}){const a=i.ServerConnection.makeSettings(),n=o.URLExt.join(a.baseUrl,"jupyterlab_link_share",e);let r;try{r=await i.ServerConnection.makeRequest(n,t,a)}catch(e){throw new i.ServerConnection.NetworkError(e)}let l=await r.text();if(l.length>0)try{l=JSON.parse(l)}catch(e){console.log("Not a JSON response body.",r)}if(!r.ok)throw new i.ServerConnection.ResponseError(r,l.message||l);return l}("servers")).map((e=>o.URLExt.normalize(`${o.PageConfig.getUrl({workspace:o.PageConfig.defaultWorkspace})}?token=${e.token}`))),t=document.createElement("div");e.map((e=>{const a=document.createElement("p"),n=document.createElement("a");n.href=e,n.innerText=e,a.appendChild(n),t.appendChild(a)})),(await(0,r.showDialog)({title:d.__("Share Jupyter Server Link"),body:new c.Widget({node:t}),buttons:[r.Dialog.cancelButton({label:d.__("Cancel")}),r.Dialog.okButton({label:d.__("Copy"),caption:d.__("Copy the link to the Jupyter Server")})]})).button.accept&&r.Clipboard.copyToSystem(e[0])}}),t&&t.addItem({command:n.share,category:d.__("Server")}),a){const e=new c.Menu({commands:u});e.title.label=d.__("Share"),a.addMenu(e,{rank:1e4}),e.addItem({command:n.share})}}}]}}]);